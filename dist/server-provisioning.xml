<!--
  ~ JBoss, Home of Professional Open Source.
  ~ Copyright 2014, Red Hat, Inc., and individual contributors
  ~ as indicated by the @author tags. See the copyright.txt file in the
  ~ distribution for a full listing of individual contributors.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, write to the Free
  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
  -->
<server-provisioning xmlns="urn:wildfly:server-provisioning:1.1" extract-schemas="true" copy-module-artifacts="true" extract-schemas-groups="org.jboss.as org.jboss.eap org.wildfly.core org.wildfly.security org.jboss.metadata">
    <feature-packs>
        <feature-pack groupId="org.jboss.eap" artifactId="wildfly-feature-pack" version="${project.version}">
            <contents>
                <filter pattern="copyright.txt" include="false"/>
                <filter pattern="README.txt" include="false"/>
                <filter pattern="docs/contrib/*" include="false"/>
            </contents>
        </feature-pack>
        <feature-pack groupId="org.jboss.migration" artifactId="jboss-server-migration-eap7.1-feature-pack" version="${version.org.jboss.migration}">
			<modules>
                <filter pattern="system/layers/base/org/jboss/migration/cli/main/module.xml" include="true" transitive="false"/>
                <filter pattern="system/layers/base/org/apache/commons/cli/main/module.xml" include="false"/>
            </modules>
            <contents>            
                <filter pattern="copyright.txt" include="false"/>
                <filter pattern="README.txt" include="false"/>               
                <filter pattern="bin/add-user*" include="false"/>
                <filter pattern="bin/*cli*" include="false"/>
                <filter pattern="bin/common*" include="false"/>
                <filter pattern="bin/domain*" include="false"/>
                <filter pattern="bin/*elytron*" include="false"/>
                <filter pattern="bin/standalone*" include="false"/>
                <filter pattern="bin/vault*" include="false"/>
                <filter pattern="docs/contrib/*" include="false"/>
                <filter pattern="docs/licenses/licenses.*" include="false"/>
                <filter pattern="docs/licenses/core-feature-pack-licenses.*" include="false"/>
                <filter pattern="domain/*" include="false"/>
                <filter pattern="standalone/*" include="false"/>
            </contents>
        </feature-pack>
    </feature-packs>
    <version-overrides>
        <!-- enforce all feature packs refer to the correct widlfly core feature pack version -->
        <version-override groupId="org.wildfly.core" artifactId="wildfly-core-feature-pack" version="${version.org.wildfly.core}" extension="zip" />
    </version-overrides>
</server-provisioning>
